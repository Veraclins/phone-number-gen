[![CircleCI](https://circleci.com/gh/Veraclins/phone-number-gen.svg?style=svg)](https://circleci.com/gh/Veraclins/phone-number-gen) [![codecov](https://codecov.io/gh/Veraclins/phone-number-gen/branch/develop/graph/badge.svg)](https://codecov.io/gh/Veraclins/phone-number-gen)

# phone-number-gen

Phone-number-gen makes it a breeze to generate unique phone numbers. It is made simple to ensure that it could be used directly from any browser. Play around with the demo [here](https://phone-number-gen.herokuapp.com/).

## Installation

To run the app locally, setup a local development environment. Ensure that [`Nodejs`](https://nodejs.org/en/download/) is installed on your machine.

- clone the app `git clone git@github.com:Veraclins/phone-number-gen.git`
- move into the folder and install dependencies `cd phone-number-gen && yarn`
- run the app in dev mode (with auto-refresh using [nodemon](https://nodemon.io/)) `yarn dev`
- Or build and run `yarn build && yarn start`
- Visit `http://localhost:4000` to access the app. Note: `4000` is the port number and can be configured by setting the `PORT` variable in your .env file.

## Features/Endpoints

The API has the following features/endpoints:

**Generate a single phone number.**

To generate a phone number, visit `/generate`. This will generate a unique phone number and return it.

The response will look like:

```JSON
{
    "status": "success",
    "message": "Phone number generated successfully",
    "data": {
        "number": "0805968363"
    }
}
```

**Generate multiple phone numbers.**

You can generate many phone numbers at once by simply adding the query string `number` with the desired number of items you want to generate. E.g. `http://localhost:4000/generate?number=10` will return something like:

```JSON
{
    "status": "success",
    "message": "Phone numbers generated successfully",
    "data": {
        "numbers": [
            "0250751783",
            "0701978447",
            "0335406246",
            "0893926810",
            "0386508692"
        ]
    }
}
```

**Fetch all available phone numbers.**

You can fetch all the phone numbers already generated by visiting the `/all`. This will return something like:

```JSON
{
    "status": "success",
    "message": "All phone numbers fetched successfully",
    "data": {
        "total": 10,
        "numbers": [
            "0481634658",
            "0544303727",
            "0293009064",
            "0652439584",
            "0567968560",
            "0546332389",
            "0769953825",
            "0187831471",
            "0563189458",
            "0392610673"
        ]
    }
}
```

**Sort all available phone numbers and get the max/min value generated.**

You can sort all the phone numbers in ascending order by simply visiting  `/sort`. This will return something like:

```JSON
{
    "status": "success",
    "message": "Phone numbers sorted in ascending order successfully",
    "data": {
        "minimum": "0187831471",
        "maximum": "0769953825",
        "numbers": [
            "0187831471",
            "0293009064",
            "0392610673",
            "0481634658",
            "0544303727",
            "0546332389",
            "0563189458",
            "0567968560",
            "0652439584",
            "0769953825"
        ]
    }
}
```

To sort in descending order simply provide the query string `desc` with any value eg. `/sort?desc=1`, `/sort?desc=me`. This returns a similar result as above except that the numbers are sorted from max to min.

**Refresh storage.**

You can easily refresh the storage (remove all generated numbers) by visiting `/refresh`.


## Testing

To run the tests:

- Run `yarn test` (Note yo must install dependencies first)
